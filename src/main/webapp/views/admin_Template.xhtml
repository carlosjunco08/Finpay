<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Admin Dashboard</title>

    <!-- ✅ Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- ✅ Tus CSS locales -->
    <h:outputStylesheet name="/css/default.css"/>
    <h:outputStylesheet name="/css/suscripcion.css"/>
    <h:outputStylesheet name="/css/cssLayout.css"/>
    <h:outputStylesheet name="/css/template_Admin.css"/>
    <h:outputStylesheet name="/css/crear_U_Admin.css"/>
    <h:outputStylesheet name="/css/grafics.css"/>

    <!-- ✅ Scripts locales -->
    <h:outputScript name="alertas.js" library="js" target="body" />
    <h:outputScript name="graficasJS.js" library="js" target="body" />

    <!-- ✅ librerías externas -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- ✅ DataTables -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css" />
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.2.3/css/buttons.dataTables.min.css" />
    <script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.2.3/js/dataTables.buttons.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.2.3/js/buttons.html5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.2.3/js/buttons.print.min.js"></script>

    <!-- ✅ Bootstrap + FontAwesome -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          rel="stylesheet" crossorigin="anonymous"/>
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
          crossorigin="anonymous" />

    <style>
        /* ✅ Header con sombra */
        .header {
            background: #fff;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            padding: 0.5rem 2rem;
        }
        #top {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 2rem;
        }
        #top img {
            margin: 0 1rem;
        }
        #top a {
            margin: 0 1rem;
            text-decoration: none;
            font-weight: bold;
            color: #000;
        }
        #top a:hover {
            color: #007bff;
        }

        /* ✅ Botones personalizados */
        .btn-cancelar {
            background-color: #6c757d;
            color: white;
        }
        .btn-cancelar:hover {
            background-color: #5a6268;
        }
    </style>
</h:head>

<h:body>
    <!-- ✅ HEADER -->
    <header class="header">
        <div id="top">
            <div class="d-flex align-items-center">
                <button type="button" class="btn btn-primary me-3" onclick="toggleLeft()">
                    &#9776;
                </button>
                 <h:link outcome="/views/inicio_Admin" style="border:none;">
                    <h:graphicImage library="images" name="logoFynpay1.png"
                                    style="width:7%; height:120%; cursor:pointer;"/>
                </h:link>
            </div>

            <nav class="flex-grow-1 d-flex justify-content-center">
                <a href="inicio_Admin.xhtml">Usuarios Registrados</a>
                <a href="estadisticas_Admin.xhtml">Estadísticas</a>
                <a href="grafic.xhtml">Reportes</a>
                <a href="suscripciones_Template.xhtml">Notificaciones</a>
                
            </nav>

            <div>
                <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#modalCerrarSesion">
                    <i class="fa-solid fa-right-from-bracket"></i> Cerrar Sesión
                </button>
            </div>
        </div>
    </header>       

    <!-- ✅ Layout -->
    <div class="layout-wrapper">
        <div id="left" class="d-none">
            <aside id="sidebar" class="sidebar">
                <div class="h-100">
                    <div class="sidebar-logo">
                        <figure class="logo">
                            <h:graphicImage library="images" name="Logo.png"/>
                        </figure>
                        <a href="#">#{login.usuario}</a>
                    </div>
                    <ul class="sidebar-nav">
                        <li class="sidebar-item"><a href="#" class="sidebar-link">Perfil</a></li>
                        <li class="sidebar-item">
                            <a href="#" class="sidebar-link collapsed">
                                <i class="fa-regular fa-file-lines pe-2"></i> Páginas
                            </a>
                            <ul id="pages" class="sidebar-dropdown list-unstyled collapse">
                                <li class="sidebar-item"><a href="#" class="sidebar-link">Analytics</a></li>
                                <li class="sidebar-item"><a href="#" class="sidebar-link">Ecommerce</a></li>
                                <li class="sidebar-item"><a href="#" class="sidebar-link">Crypto</a></li>
                            </ul>
                        </li>
                        <li class="sidebar-item">
                            <a href="#" class="sidebar-link collapsed" data-bs-toggle="collapse"
                               data-bs-target="#dashboard" aria-expanded="false" aria-controls="dashboard">
                                <i class="fa-solid fa-sliders pe-2"></i> Dashboard
                            </a>
                            <ul id="dashboard" class="sidebar-dropdown list-unstyled collapse">
                                <li class="sidebar-item"><a href="#" class="sidebar-link">Analisis Usuarios</a></li>
                                <li class="sidebar-item"><a href="#" class="sidebar-link">Analisis Suscripciones</a></li>
                            </ul>
                        </li>
                        <li class="sidebar-item">
                            <a href="#" class="sidebar-link collapsed" data-bs-toggle="collapse"
                               data-bs-target="#auth" aria-expanded="false" aria-controls="auth">
                                <i class="fa-regular fa-user pe-2"></i> Registrar
                            </a>
                            <ul id="auth" class="sidebar-dropdown list-unstyled collapse">
                                <li class="sidebar-item"><a href="#" class="sidebar-link">Usuarios</a></li>
                                <li class="sidebar-item"><a href="#" class="sidebar-link">Países</a></li>
                                <li class="sidebar-item"><a href="#" class="sidebar-link">Roles</a></li>
                            </ul>
                        </li>
                        <li class="sidebar-item">
                            <a href="#" class="sidebar-link collapsed" data-bs-toggle="collapse"
                               data-bs-target="#multi" aria-expanded="false" aria-controls="multi">
                                <i class="fa-solid fa-share-nodes pe-2"></i> Settings
                            </a>
                            <ul id="multi" class="sidebar-dropdown list-unstyled collapse">
                                <li class="sidebar-item">
                                    <a href="#" class="sidebar-link collapsed" data-bs-toggle="collapse"
                                       data-bs-target="#multi-two" aria-expanded="false" aria-controls="multi-two">
                                        Modificar y Salir
                                    </a>
                                    <ul id="multi-two" class="sidebar-dropdown list-unstyled collapse">
                                        <li class="sidebar-item"><a href="actualizar.php" class="sidebar-link">Modificar Datos</a></li>
                                        <li class="sidebar-item"><a href="logout.php" class="sidebar-link">Cerrar Sesión</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </aside>
        </div>

        <div id="content" class="left_content">
            <ui:insert name="content">Content</ui:insert>
        </div>
    </div>

    <!-- ✅ Footer -->
    <footer class="foot">
        <section class="sec">
            <div class="column">
                <h4>Recursos</h4>
                <ul class="navlink">
                    <li><a href="#">Consejos sobre cómo ahorrar</a></li>
                    <li><a href="#">Artículos e información sobre el mercado</a></li>
                    <li><a href="#">Consejos sobre finanzas</a></li>
                    <li><a href="404.xhtml">¿Por qué Basic Finance?</a></li>
                </ul>
            </div>
            <div class="column">
                <h4>Empresa</h4>
                <ul class="navlink">
                    <li><a href="#">Nuestra historia</a></li>
                    <li><a href="#">Accesibilidad</a></li>
                    <li><a href="#">Eventos</a></li>
                    <li><a href="#">Desarrolladores</a></li>
                </ul>
            </div>
            <div class="column">
                <h4>Ayuda</h4>
                <ul class="navlink">
                    <li><a href="#">Convenios</a></li>
                    <li><a href="#">Centro de ayuda</a></li>
                </ul>
            </div>
            <div class="column">
                <h4>Síguenos</h4>
                <div class="social-links">
                    <a href="https://web.facebook.com/">
                        <h:graphicImage library="images" name="Face.svg" alt="Facebook" style="width:24px;"/>
                    </a>
                    <a href="https://www.instagram.com/">
                        <h:graphicImage library="images" name="inst.svg" alt="Instagram" style="width:24px;"/>
                    </a>
                    <a href="https://x.com/">
                        <h:graphicImage library="images" name="X.svg" alt="X" style="width:24px;"/>
                    </a>
                    <a href="https://www.whatsapp.com/?lang=es_LA">
                        <h:graphicImage library="images" name="what.svg" alt="Whatsapp" style="width:24px;"/>
                    </a>
                </div>
            </div>
        </section>
    </footer>

    <!-- ✅ Modal Cerrar Sesión -->
    <div class="modal fade" id="modalCerrarSesion" tabindex="-1" aria-labelledby="cerrarSesionLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-warning">
                    <h5 class="modal-title" id="cerrarSesionLabel">Confirmar Cierre de Sesión</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>
                <div class="modal-body">
                    ¿Está seguro que desea cerrar sesión?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-cancelar" data-bs-dismiss="modal">Cancelar</button>
                    <h:form>
                        <h:commandButton value="Cerrar Sesión" 
                                         action="#{login.cerrarSesion()}"
                                         styleClass="btn btn-success"/>
                    </h:form>
                </div>
            </div>
        </div>
    </div>

    <!-- ✅ Scripts -->
    <script>
        function toggleLeft() {
            const panel = document.getElementById("left");
            panel.classList.toggle("d-none");
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
            crossorigin="anonymous"></script>
</h:body>
</html>
